var K=Object.defineProperty;var G=(r,e,t)=>e in r?K(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var T=(r,e,t)=>(G(r,typeof e!="symbol"?e+"":e,t),t);import{l as X,m as J,n as z,o as Q,p as W,q as ee,r as te,s as ne,t as oe,u as O,v as Y,w as j,x as se,y as le,A as re,B as ce}from"./element-plus.0e1471b6.js";import{u as I,b as ae}from"./vue-router.56ffce2e.js";import{r as k,l as y,e as N,o as c,c as d,T as M,U as E,u as n,a as _,Y as f,a6 as P,a9 as H,F as C,R as b,S as i,Z as l,V as D,X as L,j as A,a7 as ie,M as U,w as _e}from"./@vue.ae71f803.js";import{C as ue,r as F,u as de,_ as B,E as me,a as pe,o as he,U as fe,b as ve,c as ge,i as Z}from"./index.a782ff1d.js";import{p as xe,q as be,s as ye}from"./@vueuse.f8c502e5.js";import{u as S}from"./vue-i18n.cb61a333.js";import{n as we,R as $e}from"./@element-plus.681668a3.js";import{u as Ce}from"./useTheme.bcdfd9cf.js";import{t as p,_ as ke}from"./index.vuevuetypescriptsetuptruelang.3dd3ce18.js";import"./lodash-es.2e433212.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.5bdc91a4.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.6dc68714.js";import"./vue-echarts.23b66ad5.js";import"./resize-detector.4e96b72b.js";import"./echarts.d349f57c.js";import"./tslib.60310f1a.js";import"./zrender.6e8dd875.js";import"./pinia.d4e83f12.js";import"./vue-demi.65474690.js";import"./xe-utils.e9a24773.js";/* empty css                     */import"./vxe-table.25833a37.js";import"./axios.c924aa86.js";import"./form-data.d1f94bc2.js";import"./js-cookie.31874410.js";import"./@wangeditor.319f2da9.js";import"./yup.9b2b43ad.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.1c56cec1.js";import"./property-expr.48609aa3.js";import"./toposort.5e0934c4.js";import"./nprogress.554036ec.js";import"./@intlify.372ce312.js";const Me="/cloud-app-admin/assets/logo.a4c2148e.webp";class Ee{constructor(){T(this,"menus",k([]));T(this,"route",k(null));T(this,"close",xe(ue.MENU_CLOSE_STATE,!1));this.menus.value=this.getMenuByRoute()}getNestedMenuByRoute(e,t,s=""){var o;(o=e.children)==null||o.forEach(a=>{s!==""?s=`${s}-${a.title}`:s=`${e.title}-${a.title}`,t.set(a.route,s),a.children?this.getNestedMenuByRoute(a,t,s):s=""})}getCurrentMenu(e){const t=new Map;return this.menus.value.forEach(s=>{this.getNestedMenuByRoute(s,t)}),t.get(e.name)}linkPage(e){this.isExternalLink(e)?window.open(e.path):F.push({name:e.route})}isExternalLink(e){return!!e.path}toggleState(){this.close.value=!this.close.value}filterNestedMenu(e){return e.filter(t=>{var s;return(s=t.meta)==null?void 0:s.menu}).map(t=>{var s,o;if(t.children){const a=this.filterNestedMenu(t.children);return{...(s=t.meta)==null?void 0:s.menu,route:t.name,children:a}}return{...(o=t.meta)==null?void 0:o.menu,route:t.name}})}getMenuByRoute(){return F.getRoutes().filter(e=>e.children.length&&e.meta.menu&&!e.meta.menu.nested).map(e=>{var s;const t={...(s=e.meta)==null?void 0:s.menu};return t.children=this.filterNestedMenu(e.children),t}).filter(e=>{var t;return(t=e.children)==null?void 0:t.length}).sort((e,t)=>(e.sort||0)-(t.sort||0))}}const x=new Ee,Se=_("div",{class:"w-10 ml-4"},[_("img",{src:Me,alt:"logo"})],-1),Be={class:"flex-1 duration-500 ml-2 mr-1 w-[160px]"},He={class:"text-base font-bold"},Le=y({__name:"index",setup(r){const{t:e}=S(),t=N(()=>e("global_title"));return(s,o)=>(c(),d("div",{class:"flex align-center items-center py-2 w-[220px] cursor-pointer",onClick:o[0]||(o[0]=a=>s.$router.push("/"))},[Se,M(_("div",Be,[_("span",He,f(n(t)),1)],512),[[E,!n(x).close.value]])]))}}),Re=y({__name:"MenuItem",props:{subMenu:{default:()=>[]},activeKey:{default:""}},setup(r){const e=r,{t}=S(),s=(a,h)=>e.activeKey===""?a.title+"-"+h.title:e.activeKey+"-"+h.title;function o(a){const{sm:h,cmd:u}=de();(h.value||u.value)&&x.toggleState(),x.linkPage(a)}return(a,h)=>{const u=z,$=X,g=P("menu-item",!0),m=J;return c(!0),d(C,null,H(e.subMenu,(v,V)=>(c(),d(C,{key:V},[v.hideParent?(c(!0),d(C,{key:0},H(v.children,(w,R)=>(c(),b($,{key:"sub_ "+R,"active-key":v.title+"-"+w.title,index:s(v,w),onClick:q=>o(w)},{default:i(()=>[l(u,null,{default:i(()=>[(c(),b(D(v.icon)))]),_:2},1024),_("span",null,f(n(t)(v.title)),1)]),_:2},1032,["active-key","index","onClick"]))),128)):(c(),b(m,{key:1,index:v.title},{title:i(()=>[l(u,null,{default:i(()=>[(c(),b(D(v.icon)))]),_:2},1024),_("span",null,f(n(t)(v.title)),1)]),default:i(()=>[(c(!0),d(C,null,H(v.children,(w,R)=>(c(),d(C,null,[w.children?(c(),b(g,{key:"sub_ "+R,"active-key":v.title+"-"+w.title,"sub-menu":v.children},null,8,["active-key","sub-menu"])):(c(),b($,{key:R,index:s(v,w),onClick:q=>o(w)},{default:i(()=>[L(f(n(t)(w==null?void 0:w.title)),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:2},1032,["index"]))],64))),128)}}}),Te={class:"flex justify-center"},Ie=y({__name:"index",setup(r){const e=I(),t=k("");A(()=>{t.value=x.getCurrentMenu(e)});const s=N(()=>x.close.value);return(o,a)=>{const h=W;return c(),b(h,{class:U(["admin-menu border-base bg-dark",{close:n(x).close.value}])},{default:i(()=>[_("div",Te,[l(Le)]),l(n(Q),{collapse:n(s),"default-active":t.value},{default:i(()=>[l(Re,{"sub-menu":n(x).menus.value},null,8,["sub-menu"])]),_:1},8,["collapse","default-active"]),(c(),b(ie,{to:"body"},[M(_("div",{class:"bg block md:hidden",onClick:a[0]||(a[0]=(...u)=>n(x).toggleState&&n(x).toggleState(...u))},null,512),[[E,!n(x).close.value]])]))]),_:1},8,["class"])}}});const Ve=B(Ie,[["__scopeId","data-v-9e192442"]]),ze={class:"breadcrumb"},Ne=y({__name:"index",setup(r){const e=I(),{t}=S(),s=k(""),o=k([]);return A(()=>{var a;s.value=x.getCurrentMenu(e),o.value=[...new Set((a=s.value)==null?void 0:a.split("-"))]}),(a,h)=>{const u=ee,$=te;return c(),d("div",ze,[l($,{"separator-icon":n(we)},{default:i(()=>[(c(!0),d(C,null,H(o.value,(g,m)=>(c(),b(u,{key:m},{default:i(()=>[L(f(n(t)(g)),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"])])}}});const Ae=B(Ne,[["__scopeId","data-v-2694f310"]]),De={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Fe=_("path",{fill:"currentColor",d:"M11 13h10v-2H11m0-2h10V7H11M3 3v2h18V3M3 21h18v-2H3m0-7l4 4V8m4 9h10v-2H11v2Z"},null,-1),Ze=[Fe];function Oe(r,e){return c(),d("svg",De,Ze)}const Ye={name:"mdi-format-indent-decrease",render:Oe},je=y({__name:"index",setup(r){return(e,t)=>{const s=Ye;return c(),d("div",{class:"pr-3 cursor-pointer",onClick:t[0]||(t[0]=(...o)=>n(x).toggleState&&n(x).toggleState(...o))},[l(s,{class:U([{"rotate-180":n(x).close.value},"duration-300"]),style:{"font-size":"1.5em"}},null,8,["class"])])}}}),Pe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ue=_("path",{fill:"currentColor",d:"M22 15.04c0 2.19-1.76 3.96-3.93 3.96H5.93C3.76 19 2 17.23 2 15.04c0-1.97 1.43-3.6 3.31-3.9c-.03-.14-.04-.28-.04-.43c0-1.38 1.11-2.51 2.49-2.51c.61 0 1.18.23 1.61.6c.77-1.75 1.76-3.36 4.54-3.36c3.37 0 4.96 2.62 4.96 5.39c0 .11 0 .23-.01.34A3.95 3.95 0 0 1 22 15.04Z"},null,-1),qe=[Ue];function Ke(r,e){return c(),d("svg",Pe,qe)}const Ge={name:"mdi-apple-icloud",render:Ke},Xe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Je=_("path",{fill:"currentColor",d:"m17.75 4.09l-2.53 1.94l.91 3.06l-2.63-1.81l-2.63 1.81l.91-3.06l-2.53-1.94L12.44 4l1.06-3l1.06 3l3.19.09m3.5 6.91l-1.64 1.25l.59 1.98l-1.7-1.17l-1.7 1.17l.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95l2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85c-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14c.4-.4.82-.76 1.27-1.08c.75-.53 1.93.36 1.85 1.19c-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82c-2.81 3.14-2.7 7.96.31 10.98c3.02 3.01 7.84 3.12 10.98.31Z"},null,-1),Qe=[Je];function We(r,e){return c(),d("svg",Xe,Qe)}const et={name:"mdi-weather-night",render:We},tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},nt=_("path",{fill:"currentColor",d:"m3.55 19.09l1.41 1.41l1.8-1.79l-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71l1.8 1.79l1.41-1.41l-1.79-1.8M20.45 5l-1.41-1.4l-1.8 1.79l1.42 1.42M13 1h-2v3h2M6.76 5.39L4.96 3.6L3.55 5l1.79 1.81l1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"},null,-1),ot=[nt];function st(r,e){return c(),d("svg",tt,ot)}const lt={name:"mdi-white-balance-sunny",render:st},rt=y({__name:"index",setup(r){const{next:e,state:t}=Ce();return(s,o)=>{const a=lt,h=et,u=Ge;return c(),d("div",{style:{"font-size":"1.6em"},onClick:o[0]||(o[0]=()=>n(e)())},[M(l(a,{class:"dark-mode text-gray-500"},null,512),[[E,n(t)==="light"||n(t)==="auto"||n(t)===""]]),M(l(h,{class:"dark-mode"},null,512),[[E,n(t)==="dark"]]),M(l(u,{class:"dark-mode text-gray-600"},null,512),[[E,n(t)==="sky"]])])}}});const ct=B(rt,[["__scopeId","data-v-a6e5fb23"]]);function at(r,e,t){ne.confirm(r,void 0,{customStyle:{width:me.ELEMENT_MESSAGE_BOX_SIZE}}).then(()=>{e()}).catch(s=>{t&&t(s)})}const it={class:"flex flex-col items-start"},_t={class:"font-sans dark:text-white text-gray-600 text-sm font-medium"},ut={class:"font-sans dark:text-white text-gray-500 text-sm"},dt=y({__name:"index",setup(r){const e=ae(),t=pe(),{t:s}=S(),o=be(ye(),"YYYY-MM-DD HH:mm");function a(){at(s("golbal.logout.message.confirm"),()=>{ve(()=>{e.replace("/login"),ge("success",s("golbal.logout.message.success"))})})}return(h,u)=>{const $=oe,g=z,m=O,v=Y,V=j;return c(),d(C,null,[l($,{shape:"square",size:40,src:n(t).avatar},null,8,["src"]),_("div",it,[_("span",_t,f(n(s)("hello")+n(t).name),1),_("span",ut,f(n(o)),1)]),l(V,null,{dropdown:i(()=>[l(v,null,{default:i(()=>[l(m,{onClick:u[0]||(u[0]=w=>n(he)(n(fe).GITHUB_REPOSITORY))},{default:i(()=>[L(f(n(s)("github")),1)]),_:1}),l(m,{onClick:a},{default:i(()=>[L(f(n(s)("logout")),1)]),_:1})]),_:1})]),default:i(()=>[l(g,{size:20,class:"ml-2 mt-[1px] hover:rotate-90 duration-500 cursor-pointer"},{default:i(()=>[l(n($e))]),_:1})]),_:1})],64)}}}),mt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pt=_("path",{fill:"currentColor",d:"M14 14h5v2h-3v3h-2v-5m-9 0h5v5H8v-3H5v-2m3-9h2v5H5V8h3V5m11 3v2h-5V5h2v3h3Z"},null,-1),ht=[pt];function ft(r,e){return c(),d("svg",mt,ht)}const vt={name:"mdi-fullscreen-exit",render:ft},gt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xt=_("path",{fill:"currentColor",d:"M5 5h5v2H7v3H5V5m9 0h5v5h-2V7h-3V5m3 9h2v5h-5v-2h3v-3m-7 3v2H5v-5h2v3h3Z"},null,-1),bt=[xt];function yt(r,e){return c(),d("svg",gt,bt)}const wt={name:"mdi-fullscreen",render:yt};function $t(){const r=k(!1),e=()=>{r.value?document.exitFullscreen():document.documentElement.requestFullscreen(),r.value=!r.value};return document.addEventListener("fullscreenchange",()=>{r.value=document.fullscreenElement!==null}),{isFullScreen:r,fullScreen:e}}const Ct=y({__name:"index",setup(r){const{isFullScreen:e,fullScreen:t}=$t();return(s,o)=>{const a=wt,h=vt;return c(),d(C,null,[M(l(a,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:o[0]||(o[0]=()=>n(t)())},null,512),[[E,!n(e)]]),M(l(h,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:o[1]||(o[1]=()=>n(t)())},null,512),[[E,n(e)]])],64)}}});const kt=B(Ct,[["__scopeId","data-v-ebaa87f8"]]),Mt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Et=_("path",{fill:"currentColor",d:"M20 5h-9.12L10 2H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h7l1 3h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2M7.17 14.59a4.09 4.09 0 0 1-4.09-4.09a4.09 4.09 0 0 1 4.09-4.09c1.04 0 1.99.37 2.74 1.09l.09.04l-1.25 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42c0 1.33 1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.09c.04.19.05.38.05.59c0 2.35-1.59 4-3.92 4m6.03-1.71c.33.62.74 1.18 1.19 1.7l-.54.53l-.65-2.23m.77-.76H13l-.33-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7M21 20a1 1 0 0 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.71-.73l-2.69-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20a1 1 0 0 1 1 1v13Z"},null,-1),St=[Et];function Bt(r,e){return c(),d("svg",Mt,St)}const Ht={name:"mdi-google-translate",render:Bt},Lt=y({__name:"index",setup(r){const{locale:e}=S(),t=()=>{e.value=Z.locale.value==="zh-CN"?"en":"zh-CN",Z.toggleLocale()};return(s,o)=>{const a=Ht;return c(),b(a,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:o[0]||(o[0]=()=>t())})}}});const Rt=B(Lt,[["__scopeId","data-v-6659eb7a"]]),Tt={class:"flex align-center items-center"},It={class:"flex align-center items-center"},Vt={class:"flex items-center gap-2 justify-end h-full flex-1"},zt=y({__name:"index",setup(r){return(e,t)=>{const s=se;return c(),b(s,{class:"border-b border-base border-solid flex justify-between",style:{"text-align":"right","font-size":"12px"}},{default:i(()=>[_("div",Tt,[l(je)]),_("div",It,[l(Ae)]),_("div",Vt,[l(Rt),l(kt),l(ct),l(dt)])]),_:1})}}}),Nt=y({__name:"option",setup(r){const e=N(()=>p.history.value.length===1),{t}=S();return(s,o)=>{const a=P("arrow-down"),h=z,u=O,$=Y,g=j;return c(),b(g,null,{dropdown:i(()=>[l($,null,{default:i(()=>[l(u,{icon:"RefreshRight"},{default:i(()=>[_("span",{onClick:o[0]||(o[0]=(...m)=>n(p).reload&&n(p).reload(...m))},f(n(t)("global.history.dropdown.option.reload")),1)]),_:1}),l(u,{icon:"Close",disabled:n(e)},{default:i(()=>[_("span",{onClick:o[1]||(o[1]=(...m)=>n(p).closeSelf&&n(p).closeSelf(...m))},f(n(t)("global.history.dropdown.option.closeSelf")),1)]),_:1},8,["disabled"]),l(u,{icon:"ArrowLeft",divided:"",disabled:n(p).isTop().value},{default:i(()=>[_("span",{onClick:o[2]||(o[2]=(...m)=>n(p).closeLeft&&n(p).closeLeft(...m))},f(n(t)("global.history.dropdown.option.closeLeft")),1)]),_:1},8,["disabled"]),l(u,{icon:"ArrowRight",disabled:n(p).isBottom().value},{default:i(()=>[_("span",{onClick:o[3]||(o[3]=(...m)=>n(p).closeRight&&n(p).closeRight(...m))},f(n(t)("global.history.dropdown.option.closeRight")),1)]),_:1},8,["disabled"]),l(u,{icon:"CircleClose",divided:"",disabled:n(e)},{default:i(()=>[_("span",{onClick:o[4]||(o[4]=(...m)=>n(p).closeOther&&n(p).closeOther(...m))},f(n(t)("global.history.dropdown.option.closeOther")),1)]),_:1},8,["disabled"]),l(u,{icon:"DCaret"},{default:i(()=>[_("span",{onClick:o[5]||(o[5]=(...m)=>n(p).closeAll&&n(p).closeAll(...m))},f(n(t)("global.history.dropdown.option.closeAll")),1)]),_:1})]),_:1})]),default:i(()=>[l(h,null,{default:i(()=>[l(a)]),_:1})]),_:1})}}}),At={class:"history self-start flex w-full p-1 border-b border-base border-solid"},Dt={class:"self-center justify-self-end float-right pr-3"},Ft=y({__name:"index",setup(r){const e=k(0),t=I(),{t:s}=S(),o=k();return A(()=>{o.value=t.name}),(a,h)=>{const u=le,$=re;return c(),d("div",At,[l($,{wrap:"",size:e.value,class:"flex-1"},{default:i(()=>[(c(!0),d(C,null,H(n(p).history.value,g=>(c(),b(u,{key:g.title,size:"large",type:o.value===g.route?"":"info",class:"m-1 cursor-pointer",closable:o.value!==g.route,onClose:m=>n(p).removeHistoryTab(g),onClick:m=>a.$router.push({name:g.route})},{default:i(()=>[L(f(n(s)(g.title)),1)]),_:2},1032,["type","closable","onClose","onClick"]))),128))]),_:1},8,["size"]),_("div",Dt,[l(Nt)])])}}});const Zt=B(Ft,[["__scopeId","data-v-5d972455"]]),Bn=y({__name:"common-page",setup(r){const e=I();return _e(e,()=>{p.addHistoryTab(e)},{immediate:!0}),(t,s)=>{const o=ce;return c(),b(o,{class:"h-screen w-full font-sans"},{default:i(()=>[l(Ve),l(o,{direction:"vertical"},{default:i(()=>[l(zt),l(Zt),l(ke)]),_:1})]),_:1})}}});export{Bn as default};
